accessLog: {}
entryPoints:
  tcp:
    address: ':8080'
    forwardedHeaders:
      trustedIPs:
        - 127.0.0.0/32
{%- for ip in trusted_ips_cidr %}
        - {{ ip }}
{%- endfor %}
    proxyProtocol:
      trustedIPs:
        - 127.0.0.0/32
{%- for ip in trusted_ips_cidr %}
        - {{ ip }}
{%- endfor %}

  tcp-secure:
    address: ':8443'
    forwardedHeaders:
      trustedIPs:
        - 127.0.0.1/32
{%- for ip in trusted_ips_cidr %}
        - {{ ip }}
{%- endfor %}
    proxyProtocol:
      trustedIPs:
        - 127.0.0.0/32
{%- for ip in trusted_ips_cidr %}
        - {{ ip }}
{%- endfor %}

log:
  level: DEBUG

providers:
  file:
    filename: /etc/traefik/routers-tcp.yml
    watch: true
